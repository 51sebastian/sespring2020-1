#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import FadeTransition kivy.uix.screenmanager.FallOutTransition
#:import math math

scrManager:
    id: scman
    LoginWin:
        name: "loginWin"
    HomeWin:
        name: "homeWin"
    LengthWin:
        name: "lengthWin"
    TimeWin:
        name: "timeWin"
    InchFootWin:
        name: "inchFootWin"
    FootYardWin:
        name: "footYardWin"
    ResultWindow:
        name: "result"
    DayHourWin:
        name: "dayHourWin"
    WeekDayWin:
        name: "weekDayWin"
    InterFootInch:
        name: "interFootInchWin"
    InterFootYard:
        name: "interFootYardWin"
    InterDayHour:
        name: "interDayHourWin"
    InterWeekDay:
        name: "interWeekDayWin"

<HomeButton@ButtonBehavior+Image>
    source: 'Home Button.png'
    size_hint: 0.25,0.1
    on_release:
        app.root.current = "homeWin"
    pos_hint: {"x": 0.35}
<BackButton@ButtonBehavior+Image>
    source: 'Back Button.png'
    on_release:
        app.root.current = "homeWin"
    size_hint: 0.23,0.1
    pos_hint: {"x":0.365, "top": 0.35}
<TeacherButton@ButtonBehavior+Image>
    source: 'Teacher Button.png'
    size_hint: 0.17, 0.12
    pos_hint: {"x": 0.15 , "top": 0.3}
<StudentButton@ButtonBehavior+Image>
    source: 'Student Button.png'
    size_hint: 0.17, 0.12
    pos_hint: {"x": 0.65, "top": 0.3}
<LengthButton@ButtonBehavior+Image>
    source: 'Length Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.25, "top":0.35}
<TimeButton@ButtonBehavior+Image>
    source: 'Time Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.5, "top":0.35}
<WeekAndDayButton@ButtonBehavior+Image>
    source: 'Week & Day Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.25, "top":0.35}
<HourAndDayButton@ButtonBehavior+Image>
    source: 'Hour & Day Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.5, "top":0.35}
<InchAndFeetButton@ButtonBehavior+Image>
    source: 'Inch & Feet Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.25, "top":0.35}
<FeetAndYardButton@ButtonBehavior+Image>
    source: 'Feet & Yard Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.5, "top":0.35}
<FootToYardButton@ButtonBehavior+Image>
    source: 'Foot to Yard Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.25, "top":0.35}
<YardToFootButton@ButtonBehavior+Image>
    source: 'Yard to Foot Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.5, "top":0.35}
<FootToInchButton@ButtonBehavior+Image>
    source: 'Foot to Inch Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.25, "top":0.35}
<InchToFootButton@ButtonBehavior+Image>
    source: 'Inch to Foot Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.5, "top":0.35}
<DayToHourButton@ButtonBehavior+Image>
    source: 'Day to Hour Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.25, "top":0.35}
<HourToDayButton@ButtonBehavior+Image>
    source: 'Hour to Day Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.5, "top":0.35}
<WeekToDayButton@ButtonBehavior+Image>
    source: 'Week To Day Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.20, "top":0.35}
<DayToWeekButton@ButtonBehavior+Image>
    source: 'Day To Week Button.png'
    size_hint: 0.23,0.1
    pos_hint: {"x":0.55, "top":0.35}
<LeftDownBtn@Button>
    size_hint: 0.17, 0.12
    pos_hint: {"x": 0.15 , "top": 0.3}
<RightDownBtn@Button>
    size_hint: 0.17, 0.12
    pos_hint: {"x": 0.65, "top": 0.3}
<TryInteractiveButton@ButtonBehavior+Image>
    source: 'Try Interactive Button.png'
    size_hint: 0.2, 0.11
    pos_hint: {"x": 0.39 , "top": 0.54}
[ClockNumber@Label]:
    text: str(ctx.i)
    pos_hint: {"center_x": 0.5+0.42*math.sin(math.pi/6*(ctx.i-12)), "center_y": 0.5+0.42*math.cos(math.pi/6*(ctx.i-12))}
    font_size: self.height/16

# LOGIN PAGE WITH STUDENT AND TEACHER BUTTONS

<LoginWin>:
    FloatLayout:
        Image:
            source: 'Home Screen.png'
            pos_hint: {"x":0, "top":1}
            size_hint: 1, 1
            allow_stretch: True
            keep_ratio: False
        TeacherButton:
            # text: 'I AM A TEACHER'

            on_release:
                root.manager.transition = FadeTransition()
                app.root.current = "homeWin"
        StudentButton:
            # text: 'I AM A STUDENT'

            on_release:
                root.manager.transition = FadeTransition()
                app.root.current = "homeWin"

# NEXT PAGE AFTER LOGIN PAGE. LENGTH AND TIME BUTTON CHOICE

<HomeWin>:
    FloatLayout:
        Image:
            source: 'Selection Screen.png'
            pos_hint: {"x":0, "top":1}
            #size_hint: 1, 0.3
            allow_stretch: True
            keep_ratio: False
        #Image:
            #source: 'metric.jpg'
           # pos_hint: {"x":0, "top":0.7}
           # size_hint: 1,0.7
           # allow_stretch: True
           # keep_ratio: False


        FloatLayout:
            cols: 1
           # Label:
           #     text: "Select a category of conversion"
           #     color: 0,0.6,1,0.9
           #     font_size: 32
           #     size_hint: 1,0.3
           #     pos_hint: {"x":0, "top":1}
            FloatLayout:
                cols: 2
                LengthButton:
                    id: lengthBtn
                    #text: "LENGTH"
                    #font_size: 30
                    #color: 0,0.9,0.9,1
                    on_release:
                        root.manager.transition = FadeTransition()
                        app.root.current = "lengthWin"
                    #size_hint: 0.23,0.1
                    #pos_hint: {"x":0.1, "top":0.3}
                    #opacity: 0.8
                TimeButton:
                    id: timeBtn
                    #source: 'Time Button.png'
                    #text: "TIME"
                    #font_size: 30
                    #color: 0,0.9,0.9,1
                    on_release:
                        root.manager.transition = FadeTransition()
                        app.root.current = "timeWin"

                    #size_hint: 0.23,0.1
                    #pos_hint: {"x":0.6, "top":0.3}
                    #opacity: 0.8
                HomeButton:

# USER HAS PICKED TIME AS THE PRACTICE TYPE

<TimeWin>:
    FloatLayout:
        Image:
            source: 'Time Selection.png'
            pos_hint: {"x":0, "top":1}
            size_hint: 1, 1
            allow_stretch: True
            keep_ratio: False
        #Label:
         #   text: "SELECT"
          #  color: 0.9,0.4,0.7,1
          #  pos_hint: {"x": 0, "top": 0.9}
          #  font_size: 40
          #  size_hint: 1,0.4

        FloatLayout:

            #LeftDownBtn:
              #  id: weekToDayBtn
              #  text: "Week <--> Day"

            WeekAndDayButton:
                id: weekToDayBtn
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "weekDayWin"

            #RightDownBtn:
               # id: hourToMinBtn
               # text: "Hour <--> Day"

            HourAndDayButton:
                id: hourToMinBtn
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "dayHourWin"


            HomeButton:

# USER HAS PICKED LENGTH AS THE PRACTICE TYPE

<LengthWin>:
    FloatLayout:
        Image:
            source: 'Length Choice.png'
        #Label:
           # text: "Choose your desired conversion"
           # color: 0.9,0.4,0.7,1
           # pos_hint: {"x": 0, "top": 0.9}
           # font_size: 40
           # size_hint: 1,0.4

        FloatLayout:
            # LeftDownBtn:
               # id: inchToFootBtn
               # text: "Inch <--> Feet"

            InchAndFeetButton:
                id: inchToFootBtn
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "inchFootWin"
               # color: 0.9,0.8,0.8,1

            # RightDownBtn:
               # id: FeetToYard
               # text: "Feet <--> Yard"

            FeetAndYardButton:
                id: FeetToYard
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "footYardWin"
               # color: 0.9,0.8,0.8,1

            HomeButton:

# USER PICKS YARDS AND FEET CONVERSTION

<FootYardWin>:
    FloatLayout:
        Image:
            source: 'Length Foot Yard.png'
            pos_hint: {"x":0, "top":1}
            size_hint: 1, 1
            allow_stretch: True
            keep_ratio: False

        FloatLayout:

            #Label:
                #text: "Input the number"
                #color: 0.1,0.5,0.4,1
                #pos_hint: {"x": 0.15, "top": 0.9}
                #font_size: 40
                #size_hint: 0.4,0.4
            TextInput:
                id: userFootYard
                multiline: False
                color: 0, 0, 0.129, 0
                pos_hint: {"x": 0.70, "top": 0.745}
                font_size: 40
                size_hint: 0.17,0.17

            #LeftDownBtn:
                #id: footToYardBtn
                #text: "Foot => Yard"
            FootToYardButton:
                id: footToYardBtn
                on_press:
                    app.root.FeetToYard(userFootYard)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #RightDownBtn:
                #id: yardToFootBtn
                #text: "Yard => Foot"
            YardToFootButton:
                id: yardToFootBtn
                on_press:
                    app.root.YardToFeet(userFootYard)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #Button:
                #text: "Try Interactive"
            TryInteractiveButton:
                on_release:
                    app.root.current = "interFootYardWin"
                #size_hint: 0.2, 0.11
                #pos_hint: {"x": 0.39 , "top": 0.46}
                #opacity: 0.8

            HomeButton:

# USER PICKS INCH AND FEET TO PRACTICE

<InchFootWin>:
    FloatLayout:
        Image:
            source: 'Length Inch Foot.png'
            pos_hint: {"x":0, "top":1}
            size_hint: 1, 1
            allow_stretch: True
            keep_ratio: False

        FloatLayout:

            #Label:
                #text: "Input the number"
                #color: 0.1,0.5,0.4,1
                #pos_hint: {"x": 0.15, "top": 0.9}
                #font_size: 40
                #size_hint: 0.4,0.4
            TextInput:
                id: userInchFoot
                multiline: False
                color: 0, 0, 0.129, 0
                pos_hint: {"x": 0.726, "top": 0.73}
                font_size: 40
                size_hint: 0.18,0.18

            #LeftDownBtn:
                #id: FootToInchBtn
                #text: "Foot => Inch"
            FootToInchButton:
                id: FootToInchBtn
                on_press:
                    app.root.FeetToInches(userInchFoot)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #RightDownBtn:
                #id: inchToFootBtn
                #text: "Inch => Foot"

            InchToFootButton:
                id: inchToFootBtn
                on_press:
                    app.root.YardToFeet(userInchFoot)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #Button:
                #text: "Try Interactive"

            TryInteractiveButton:
                on_release:
                    app.root.current = "interFootInchWin"
                #size_hint: 0.2, 0.11
                #pos_hint: {"x": 0.60 , "top": 0.46}
                #opacity: 0.8

            HomeButton:

# USER PICKS HOUR & DAY BUTTON

<DayHourWin>:
    FloatLayout:
        Image:
            source: 'Time Hour Day Screen.png'
            pos_hint: {"x":0, "top":1}
            size_hint: 1, 1
            allow_stretch: True
            keep_ratio: False

        FloatLayout:

            #Label:
                #text: "Input the number"
                #color: 0.3,0.4,0.9,1
                #pos_hint: {"x": 0.15, "top": 0.9}
                #font_size: 40
                #size_hint: 0.4,0.4
            TextInput:
                id: userDayHour
                color: 0.6,0.4,0.7,1
                pos_hint: {"x": 0.75, "top": 0.75}
                font_size: 40
                size_hint: 0.17,0.1
                multiline: False
            #LeftDownBtn:
                #id: dayToHourBtn
                #text: "Convert Day To Hour"
            DayToHourButton:
                id: dayToHourBtn
                on_press:
                    app.root.DayToHour(userDayHour)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #RightDownBtn:
            HourToDayButton:
                id: hourToDayBtn
                text: "Convert Hour to Day"
                on_press:
                    app.root.HourToDay(userDayHour)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #Button:
                #text: "Try Interactive"

            TryInteractiveButton:
                on_release:
                    app.root.current = "interDayHourWin"
                size_hint: 0.2, 0.11
                pos_hint: {"x": 0.39 , "top": 0.56}
                opacity: 0.8


            HomeButton:

# USER PICKED WEEK AND DAY

<WeekDayWin>:
    FloatLayout:
        Image:
            source: 'Time Week Day Screen.png'
            pos_hint: {"x":0, "top":1}
            size_hint: 1, 1
            allow_stretch: True
            keep_ratio: False

        FloatLayout:

            #Label:
                #text: "Input the number"
                #color: 0.3,0.4,0.9,1
                #pos_hint: {"x": 0.15, "top": 0.9}
                #font_size: 40
                #size_hint: 0.4,0.4
            TextInput:
                id: userWeekDay
                color: 0.6,0.4,0.7,1
                pos_hint: {"x": 0.70, "top": 0.75}
                font_size: 40
                size_hint: 0.17,0.1
                multiline: False
            #LeftDownBtn:
            WeekToDayButton:
                id: dayToHourBtn
                #text: "Convert Week To Day"
                on_press:
                    app.root.WeekToDay(userWeekDay)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #RightDownBtn:
            DayToWeekButton:
                id: hourToDayBtn
                #text: "Convert Day to Week"
                on_press:
                    app.root.DayToWeek(userWeekDay)
                on_release:
                    root.manager.transition = FadeTransition()
                    app.root.current = "result"

            #Button:
                #text: "Try Interactive"
            TryInteractiveButton:
                on_release:
                    app.root.current = "interWeekDayWin"
                size_hint: 0.2, 0.11
                pos_hint: {"x": 0.39 , "top": 0.50}
                opacity: 0.8


            HomeButton:



# NEED TO MAKE BACKGROUND FOR THIS PAGE!

<ResultWindow>:
    on_enter:
        answer.text = 'Your Result: ' + app.result
    FloatLayout:
        Image:
            source: 'Answer Screen.png'
            pos_hint: {"x":0, "top":1}
            size_hint: 1, 1
            allow_stretch: True
            keep_ratio: False

        FloatLayout:
            Label:
                id: answer
                color: 0.2,0.4,0.7,1
                pos_hint: {"x": 0, "top": 0.8}
                font_size: 40
                size_hint: 1,0.4


            BackButton:
                #text: "BACK"
                #font_size: 30
                #color: 0,0.9,0.9,1
                #on_release:
                    #app.root.current = "homeWin"
                #size_hint: 0.23,0.1
                #pos_hint: {"x":0.3, "top": 0.35}
                #opacity: 0.3

            HomeButton:
#Comments
<InterFootInch@BoxLayout>:
    orientation: 'vertical'
    canvas:
        Color:
            #rgba: .5, .5, .5, 1

        Rectangle:
            size: self.size
            pos: self.pos
            #source: 'bckgndn.jpg'
            source: 'Feet and Inches Interactive Screen.png'
    Slider:
        size_hint_y: .35

        id: slider
        min: 0
        max: 100
        step: 1
        orientation: 'horizontal'
        canvas:
            Color:
                rgba: 0,0.5,0.5,1
            Rectangle:
                size: (1 + self.value * 1, 50)
                pos: (50 ,350)
            Color:
                rgba: 0.2,1,0.2,1
            Rectangle:
                size: (7 + self.value * 7, 50)
                pos:(50,250)
    #Label:
        #text: str(slider.value)
       # font_size: 40
    Label:
        text: str(slider.value) + ' Feet =' + str(7*slider.value) + ' Inches'
        pos: (100,100)
        font_size: 30
        color: 0.2,0.6,0.6,1
    HomeButton:

<InterFootYard@BoxLayout>:
    orientation: 'vertical'
    canvas:
        Color:
            #rgba: .5, .5, .5, 1

        Rectangle:
            size: self.size
            pos: self.pos
            source: 'Feet and Yards Interactive Screen.png'
    Slider:
        size_hint_y: .35

        id: slider
        min: 0
        max: 100
        step: 1
        orientation: 'horizontal'
        canvas:
            Color:
                rgba: 0,0.5,0.5,1
            Rectangle:
                size: (1 + self.value * 1, 50)
                pos: (50 ,350)
            Color:
                rgba: 0.2,1,0.2,1
            Rectangle:
                size: (3 + self.value * 3, 50)
                pos:(50,250)
    #Label:
        #text: str(slider.value)
       # font_size: 40
    Label:
        text: str(slider.value) + ' Yard =' + str(3*slider.value) + ' Feet'
        pos: (100,100)
        font_size: 30
        color: 0.2,0.6,0.6,1
    HomeButton:

<InterDayHour>:
    canvas:
        Color:
            rgba: .5, .5, .5, 1

        Rectangle:
            size: self.size
            pos: self.pos
            source: 'timeback.jpg'
    face: face
    ticks: ticks
    FloatLayout:
        id: face
        size_hint: None, None
        pos_hint: {"center_x":0.5, "center_y":0.5}
        size: 0.65*min(root.size), 0.65*min(root.size)
        canvas:
            Color:
                rgb: 0.1, 0.1, 0.1
            Ellipse:
                size: self.size
                pos: self.pos
                source: 'timeback.jpg'
        ClockNumber:
            i: 1
        ClockNumber:
            i: 2
        ClockNumber:
            i: 3
        ClockNumber:
            i: 4
        ClockNumber:
            i: 5
        ClockNumber:
            i: 6
        ClockNumber:
            i: 7
        ClockNumber:
            i: 8
        ClockNumber:
            i: 9
        ClockNumber:
            i: 10
        ClockNumber:
            i: 11
        ClockNumber:
            i: 12
    Ticks:
        id: ticks
        r: min(root.size)*0.65/2
    Label:
        text: "Green : Hour"
        pos: (250,100)
        color: 0.4,0.7,0.4,1
    Label:
        text: "Blue :  Minute"
        pos: (250,115)
        color: 0.1,0.6,0.9,1
    Label:
        text: "Orange: Second"
        pos: (250,130)
        color: 0.9,0.5,0.2,1
    Label:
        text:
            "1 Hour = 60 Minutes \n1 Minute = 60 Seconds \
            \n1 Hour = 3600 Seconds"
        pos: (280, -120)
        color: 0.5,0.8,0,1

    HomeButton:

<InterWeekDay>

    orientation: 'vertical'
    canvas:
        Color:
            rgba: .5, .5, .5, 1

        Rectangle:
            size: self.size
            pos: self.pos
            source: 'bckgndn.jpg'